schemaVersion: 2.1.0
metadata:
  name: ansible-cnv-vm-provision
attributes:
  che-theia.eclipse.org/sidecar-policy: mergeImage
  controller.devfile.io/devworkspace-config:
    name: devworkspace-config
    namespace: crw
  controller.devfile.io/storage-type: common
  metadata-name-field: generateName
  metadata-name-original-value: ansible-cnv-vm-provision
projects:
  - attributes:
      source-origin: branch
    git:
      checkoutFrom:
        revision: develop
      remotes:
        origin: 'git@github.com:ahussey-redhat/ansible-cnv-vm-provision.git'
    name: cnv
    clonePath: ansible_collections/community/cnv
components:
  - container:
      image: 'registry.redhat.io/ansible-automation-platform-21/ee-minimal-rhel8' # https://issues.redhat.com/browse/AAP-7037
      sourceMapping: /projects/ansible_collections/community/cnv
      command:
        - sleep
        - infinity
    name: ansible-container
commands:
  - exec:
      commandLine: ansible-test sanity --venv -v
      component: ansible-container
      group:
        kind: test
      label: Run all Ansible tests
      workingDir: /projects/ansible_collections/community/cnv
    id: ansible-test
